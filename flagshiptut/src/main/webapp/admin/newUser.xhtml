<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    template="/WEB-INF/template.xhtml">

    <ui:define name="title">
        New User
    </ui:define>
    <ui:define name="implementation">
        <p:tooltip />
        <h:panelGroup id="msgPanel">
            <p:messages id="messages" showDetail="true" autoUpdate="false" closable="true" />
        </h:panelGroup>

        <h:form>
            <h:panelGrid columns="2" cellpadding="5" id="panel">
                <h:outputLabel value="#{label.firstName}:" />
                <p:inputText value="#{newUserView.user.firstName}" />

                <h:outputLabel value="#{label.lastName}:" />
                <p:inputText value="#{newUserView.user.lastName}" />

                <h:outputLabel value="#{label.chineseName}:" />
                <p:inputText value="#{newUserView.user.chineseName}" />

                <h:outputLabel for="loginId" value="#{label.loginId}:" />
                <p:inputText id="loginId" value="#{newUserView.user.loginId}" required="true" />
         
                <h:outputLabel value="#{label.password}:" />
                <p:password id="password" value="#{newUserView.user.password}" required="true" />

                <h:outputLabel value="#{label.password} (repeat):" />
                <p:password id="password2" value="#{newUserView.password2}" required="true" />

                <h:outputLabel value="#{label.email}:" />
                <p:inputText value="#{newUserView.user.email}" />

                <h:outputLabel value="#{label.phone}:" />
                <p:inputMask value="#{newUserView.user.phone}" mask="(999) 999-9999"/>

                <h:outputLabel value="#{label.passwordHint}:" />
                <p:inputText value="#{newUserView.user.hint}" />

                <h:outputLabel value="#{label.answer}:" />
                <p:inputText value="#{newUserView.user.answer}" />

                <h:outputLabel value="#{label.timezone}:" />
                <p:selectOneMenu id="menu" value="#{newUserView.user.timezone}" label="Timezone"
                                      filter="true" filterMatchMode="startsWith" panelStyle="width:250px">
                    <f:selectItems value="#{newUserView.timezones}" />
                </p:selectOneMenu>

                <h:outputLabel value="" />
                <h:outputLabel value="" />
                <h:outputLabel value="" />
                <p:commandButton value="Submit" update=":msgPanel panel" action="#{newUserView.save}" />

            </h:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>